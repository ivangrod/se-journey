<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.69.0" />
    <meta name="description" content="">


    <link rel="icon" href="/se-journey/images/favicon.png" type="image/png">

    <title>SOLID Principles :: Software Engineer Journey</title>

    
    <link href="/se-journey/css/nucleus.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/fontawesome-all.min.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/hybrid.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/featherlight.min.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/perfect-scrollbar.min.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/auto-complete.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/atom-one-dark-reasonable.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/theme.css?1596665575" rel="stylesheet">
    <link href="/se-journey/css/hugo-theme.css?1596665575" rel="stylesheet">
    

    <script src="/se-journey/js/jquery-3.3.1.min.js?1596665575"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/se-journey/software-design/solid/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://ivangrod.github.io/se-journey/">
    <img id="grav-logo" alt=""
        src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2MCA4MCIgaWQ9IkxheWVyXzEiIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDE2MCA4MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGc+PHJlY3QgaGVpZ2h0PSI2IiB3aWR0aD0iNiIgeD0iNjIiIHk9IjYiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI2MiIgeT0iNjAiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iMTIiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iMTgiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iMjQiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iNDIiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iNDgiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1NiIgeT0iNTQiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1MCIgeT0iMzAiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI1MCIgeT0iMzYiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI5MiIgeT0iNjAiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSI5MiIgeT0iNiIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSI1NCIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSI0OCIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSI0MiIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSIyNCIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSIxOCIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9Ijk4IiB5PSIxMiIvPjxyZWN0IGhlaWdodD0iNiIgd2lkdGg9IjYiIHg9IjEwNCIgeT0iMzYiLz48cmVjdCBoZWlnaHQ9IjYiIHdpZHRoPSI2IiB4PSIxMDQiIHk9IjMwIi8+PC9nPjwvc3ZnPg==">
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/se-journey/js/lunr.min.js?1596665575"></script>
<script type="text/javascript" src="/se-journey/js/auto-complete.js?1596665575"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/ivangrod.github.io\/se-journey\/";
    
</script>
<script type="text/javascript" src="/se-journey/js/search.js?1596665575"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/se-journey/software-design/" title="Software Design" class="dd-item 
        parent
        
        
        ">
      <a href="/se-journey/software-design/">
          Software Design
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/software-design/solid/" title="SOLID Principles" class="dd-item 
        
        active
        
        ">
      <a href="/se-journey/software-design/solid/">
          SOLID Principles
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/agile/" title="Agile" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/agile/">
          Agile
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/agile/user-story/" title="User Story" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/agile/user-story/">
          User Story
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/culture/" title="Culture" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/culture/">
          Culture
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/se-journey/culture/code-review/" title="Code Review" class="dd-item ">
        <a href="/se-journey/culture/code-review/">
        Code Review
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/testing/" title="Testing" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/testing/">
          Testing
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/testing/tdd/" title="Test-Driven Development" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/testing/tdd/">
          Test-Driven Development
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/testing/tdd/tdd-schools/" title="TDD Schools" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/testing/tdd/tdd-schools/">
          TDD Schools
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/se-journey/testing/test-types/" title="Test Types" class="dd-item ">
        <a href="/se-journey/testing/test-types/">
        Test Types
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/se-journey/testing/double-patterns/" title="Double Patterns" class="dd-item ">
        <a href="/se-journey/testing/double-patterns/">
        Double Patterns
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/se-journey/testing/testing-resources/" title="Testing Resources" class="dd-item ">
        <a href="/se-journey/testing/testing-resources/">
        Testing Resources
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/cloud/" title="Cloud" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/">
          Cloud
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/" title="AWS" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/">
          AWS
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/elb/" title="AWS - ELB" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/elb/">
          AWS - ELB
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/ec2/" title="AWS - EC2" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/ec2/">
          AWS - EC2
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/security/" title="AWS - Security" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/security/">
          AWS - Security
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/ops/" title="AWS - Ops" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/ops/">
          AWS - Ops
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/se-journey/cloud/aws/infrastructure/" title="AWS - Infrastructure" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/cloud/aws/infrastructure/">
          AWS - Infrastructure
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/git/" title="Git" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/git/">
          Git
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/se-journey/git/git-commit-message/" title="Git Commit Message" class="dd-item ">
        <a href="/se-journey/git/git-commit-message/">
        Git Commit Message
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/templates/" title="Templates" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/templates/">
          Templates
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/se-journey/templates/issue/" title="Issue" class="dd-item ">
        <a href="/se-journey/templates/issue/">
        Issue
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/se-journey/templates/pull-request/" title="Pull Request" class="dd-item ">
        <a href="/se-journey/templates/pull-request/">
        Pull Request
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/se-journey/glossary/" title="Glossary" class="dd-item 
        
        
        
        ">
      <a href="/se-journey/glossary/">
          Glossary
          
      </a>
      
      
        <ul>
          
          
          
          
        
          
            
            




 
  
    
      <li data-nav-id="/se-journey/glossary/terms/" title="Terms" class="dd-item ">
        <a href="/se-journey/glossary/terms/">
        Terms
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/ivangrod/se-journey"><i class="fas fa-heart"></i></a> by <a href="https://www.linkedin.com/in/ivangutierrezrodriguez/">Iván</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/se-journey/'>Software Engineer Journey</a> > <a href='/se-journey/software-design/'>Software Design</a> > SOLID Principles
          
         
          
         
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#srp---single-responsibility-principle">SRP - Single responsibility principle</a></li>
    <li><a href="#ocp---openclosed-principle">OCP - Open/closed principle</a>
      <ul>
        <li><a href="#violación-ocp">Violación OCP</a></li>
        <li><a href="#ocp---interface">OCP - Interface</a></li>
        <li><a href="#ocp---abstract-class">OCP - Abstract class</a></li>
        <li><a href="#interface---abstract-class">Interface - Abstract class</a></li>
      </ul>
    </li>
    <li><a href="#lsp---liskov-substitution-principle">LSP - Liskov substitution principle</a>
      <ul>
        <li><a href="#violación-del-lsp">Violación del LSP</a></li>
      </ul>
    </li>
    <li><a href="#isp---interface-segregation-principle">ISP - Interface segregation principle</a></li>
    <li><a href="#dip---dependency-inversion-principle">DIP - Dependency inversion principle</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              SOLID Principles
            </h1>
          

        




	<h2 id="srp---single-responsibility-principle">SRP - Single responsibility principle</h2>
<p><strong>Concepto</strong>:</p>
<ul>
<li>Una clase = Un concepto y responsabilidad</li>
<li>Una clase debería tener sólo 1 razón para cambiar</li>
</ul>
<p><strong>Cómo conseguirlo</strong>:</p>
<ul>
<li>Clases pequeñas con objetivos acotados
<ul>
<li>[Code Smell] En clases de servicio, si presentan más de un método público, se interpreta que tienen más de una responsabilidad (hacen más de una <em>cosa</em>)</li>
<li>[Code Smell] Nombres de clases abstractos, ej. EmailSender (1) vs EmailService (1..n). La terminología más específica no abre la puerta a añadir más funcionalidades</li>
</ul>
</li>
</ul>
<p><strong>Finalidad</strong>:</p>
<ul>
<li>Alta cohesión y robustez</li>
<li>Permitir composición de clases (inyectar colaboradores)</li>
<li>Evitar duplicidad de código</li>
</ul>
<p>Modelo de dominio <em>Book</em>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Book</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getTitle</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;A great book&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getAuthor</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;John Doe&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printCurrentPage</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span> 
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;current page content&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Servicio cliente del modelo de dominio:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Client</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        Book book <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Book<span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">…</span><span style="color:#f92672">);</span>
        book<span style="color:#f92672">.</span><span style="color:#a6e22e">printCurrentPage</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p><strong>Motivo del por qué no respetamos SRP</strong>: Book está acoplada al canal estándar de salida al imprimir la página actual. Sabe cómo modelar los datos y cómo imprimirlos.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Book</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getTitle</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;A great book&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getAuthor</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;John Doe&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getCurrentPage</span><span style="color:#f92672">()</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;current page content&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StandardOutputPrinter</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printPage</span><span style="color:#f92672">(</span>String page<span style="color:#f92672">)</span>
    <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>page<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Client</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Client</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        Book book <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Book<span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">…</span><span style="color:#f92672">);</span>
        String currentPage <span style="color:#f92672">=</span> book<span style="color:#f92672">.</span><span style="color:#a6e22e">getCurrentPage</span><span style="color:#f92672">();</span>
        StandardOutputPrinter printer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StandardOutputPrinter<span style="color:#f92672">();</span>
        printer<span style="color:#f92672">.</span><span style="color:#a6e22e">printPage</span><span style="color:#f92672">(</span>currentPage<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Aplicando <strong>modularidad</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Printer</span>
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printPage</span><span style="color:#f92672">(</span>String page<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StandardOutputPrinter</span> <span style="color:#66d9ef">implements</span> Printer
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printPage</span><span style="color:#f92672">(</span>String page<span style="color:#f92672">)</span>
    <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>page<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">StandardOutputHtmlPrinter</span> <span style="color:#66d9ef">implements</span> Printer
<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printPage</span><span style="color:#f92672">(</span>String page<span style="color:#f92672">)</span>
    <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&lt;div&gt;&#34;</span> <span style="color:#f92672">+</span> page <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&lt;/div&gt;&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><blockquote>
<p>Modelo de dominio anémico &lt;-&gt; DTOs</p>
</blockquote>
<h2 id="ocp---openclosed-principle">OCP - Open/closed principle</h2>
<p><strong>Concepto</strong>:</p>
<ul>
<li>El software debería estar abierto a extensión y cerrado a modificación.</li>
<li>Ésto aplica tanto a nuestras clases internas, servicios, microservicios, casos de usos, etc.</li>
</ul>
<p><strong>Cómo conseguirlo</strong>:</p>
<ul>
<li>Evitando depender de implementaciones específicas, haciendo uso de clases abstractas o interfaces.</li>
</ul>
<p><strong>Finalidad</strong>:</p>
<ul>
<li>Facilidad para añadir nuevos Casos de uso en nuestra aplicación.</li>
</ul>
<h3 id="violación-ocp">Violación OCP</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Song</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">private</span> Double totalLength<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> Double sentLength<span style="color:#f92672">;</span>

  <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> sentLength <span style="color:#f92672">*</span> 100 <span style="color:#f92672">/</span> totalLength<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">File</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">private</span> Double totalLength<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> Double sentLength<span style="color:#f92672">;</span>

  <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> sentLength <span style="color:#f92672">*</span> 100 <span style="color:#f92672">/</span> totalLength<span style="color:#f92672">;</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="ocp---interface">OCP - Interface</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Measurable</span> <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getTotalLength</span><span style="color:#f92672">();</span>
  <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLength</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Song</span> <span style="color:#66d9ef">implements</span> Measurable <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> Double totalLength<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> Double sentLength<span style="color:#f92672">;</span>
    
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getTotalLength</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> totalLength<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLength</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> sentLength<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>Clase <em>Progress</em> acoplada únicamente a la interface</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Progress</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">(</span>Measurable measurable<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> measurable<span style="color:#f92672">.</span><span style="color:#a6e22e">getSentLength</span><span style="color:#f92672">()</span> <span style="color:#f92672">*</span> 100 <span style="color:#f92672">/</span> measurable<span style="color:#f92672">.</span><span style="color:#a6e22e">getTotalLength</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="ocp---abstract-class">OCP - Abstract class</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Measurable</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">abstract</span> Double <span style="color:#a6e22e">getTotalLength</span><span style="color:#f92672">();</span>
    <span style="color:#66d9ef">abstract</span> Double <span style="color:#a6e22e">getSentLength</span><span style="color:#f92672">();</span>
    
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> getSentLength<span style="color:#f92672">()</span> <span style="color:#f92672">*</span> 100 <span style="color:#f92672">/</span> getTotalLength<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Song</span> <span style="color:#66d9ef">extends</span> Measurable <span style="color:#f92672">{</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getTotalLength</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLength</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span> 
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Progress</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> Double <span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">(</span>Measurable measurable<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// Nos llevamos lógica a nuestro modelo de dominio
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> measurable<span style="color:#f92672">.</span><span style="color:#a6e22e">getSentLengthPercentage</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="interface---abstract-class">Interface - Abstract class</h3>
<ul>
<li>
<p>Beneficios de Interface - Usar para <strong>desacoplar entre capas</strong>:</p>
<ul>
<li>No modifica el árbol de jerarquía</li>
<li>Permite implementar N Interfaces</li>
</ul>
</li>
<li>
<p>Beneficios de Abstract Class - Determinados casos para <strong>Modelos de dominios</strong>:</p>
<ul>
<li>Permite desarrollar el patrón <a href="https://github.com/iluwatar/java-design-patterns/tree/master/template-method">Template Method</a> empujando la lógica al modelo
<ul>
<li>Problema: Dificultad de trazar</li>
</ul>
</li>
<li>Getters privados (Tell don’t ask)</li>
</ul>
</li>
</ul>
<h2 id="lsp---liskov-substitution-principle">LSP - Liskov substitution principle</h2>
<p><strong>Concepto</strong>:</p>
<ul>
<li>Si S es un subtipo de T, instancias de T deberían poderse sustituir por instancias de S sin alterar las propiedades del programa</li>
<li>Es decir, al tener una jerarquía nos supone que estamos estableciendo un contrato en el padre, por lo que, garantizar que se mantiene dicho contrato en el hijo, nos permitirá que podamos sustituir al padre y la aplicación seguirá funcionando perfectamente.</li>
</ul>
<p><strong>Cómo</strong>:</p>
<ul>
<li>El comportamiento de las subclases debe respetar el contrato establecido en la superclase.</li>
</ul>
<p><strong>Finalidad</strong>:</p>
<ul>
<li>Mantener correctitud funcional para poder aplicar OCP</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">final class UserRepositoryMySql extends Repository implements UserRepository
{
    public function save(User $user): void{
        $this-&gt;entityManager()-&gt;persist($user);
    }

    public function flush(User $user)
    {
        $this-&gt;entityManager()-&gt;flush($user);
    }

    public function saveAll(Users $users)
    {
        each($this-&gt;persister(),$users);
    }
}
</code></pre></div><p>Nuestra UserRepositoryMySql es una implementación de un repositorio MySql, pero ojo! con la característica de utilizar Doctrine como ORM. Doctrine implementa el <em>Unit of work pattern</em>, que nos ofrece algunas características:</p>
<ul>
<li>Utiliza una &lsquo;caché&rsquo; en memoria (unit of work) donde almacena inicialmente los datos antes de persistir en BD, haciendo más rápida su recuperación durante ese proceso.</li>
<li>Cuando editamos estos objetos, compara las diferencias con el estado almacenado para saber él mismo qué atributos deben actualizarse.</li>
</ul>
<h3 id="violación-del-lsp">Violación del LSP</h3>
<p>Como clientes externos que sólo conocemos la interface publicada, podríamos esperar que cuando se llamase al método save, con nuestra implementación se persistieran la información en BD.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">interface UserRepository
{
    public function save(User $user): void;
    
    public function saveAll(Users $users): void;
    
    public function search(UserId $id): ?User;
    
    public function all(): Users;
}
</code></pre></div><p>Sin embargo nuestra implementación del método <strong>save</strong> internamente llama a <strong>persist</strong>, que simplemente almacenará los datos en la <em>unit of work</em> sin forzar la persistencia real en BD. Como vemos, aunque se ha mantenido la firma de los métodos definidos en la interface, estaríamos violando el LSP puesto que no podríamos utilizarla para reemplazar otras implementaciones que no utilizan el <em>Unit of work pattern</em> y si estarían persistiendo en su BD al llamar al método <strong>save</strong>.</p>
<h2 id="isp---interface-segregation-principle">ISP - Interface segregation principle</h2>
<p><strong>Concepto</strong>:</p>
<ul>
<li>Ningún cliente debería verse forzado a depender de métodos que no usa</li>
</ul>
<p><strong>Cómo</strong>:</p>
<ul>
<li>Definir contratos de interfaces basándonos en los clientes que las usan y no en las implementaciones que pudiéramos tener (<strong>Las interfaces pertenecen a los clientes</strong>)</li>
<li>Evitar <a href="https://martinfowler.com/bliki/HeaderInterface.html">Header Interfaces</a> promoviendo <a href="https://martinfowler.com/bliki/RoleInterface.html">Role Interfaces</a></li>
</ul>
<p><strong>Finalidad</strong>:</p>
<ul>
<li>Alta cohesión y bajo acoplamiento estructural</li>
</ul>
<p>En el ejemplo anterior, con el patrón Unit of work necesitábamos dos métodos save y flush para persistir en BD.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">interface UserRepository
{
    public function save(User $user): void;
    
    public function flush(User $user): void;

    public function saveAll(Users $users): void;
    
    public function search(UserId $id): ?User;
    
    public function all(): Users;
}
</code></pre></div><p>De este modo, nuestra interface UserRepository tendría que tener el aspecto que vemos arriba, haciendo <strong>Header Interface</strong> hemos definido la cabecera de los métodos <em>save</em> y <em>flush</em> en nuestra interface.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">public function __invoke(UserId $id)
{
    $user = $this-&gt;finder-&gt;__invoke($id);
       
    $user-&gt;increaseTotalVideosCreated();
       
    $this-&gt;repository-&gt;save($user);
    $this-&gt;repository-&gt;flush($user);
}
</code></pre></div><p>Si quisiéramos implementar ciertas bases de datos como Redis, que no contemplan el patrón <em>Unit of work</em>, nos estaría sobrando la llamada al método <strong>flush</strong>.</p>
<p>Nuestro caso de uso no tiene por qué conocer qué hace la implementación por detrás, de modo que simplemente llamaría al método <strong>save</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">final class UserRepositoryMySql extends Repository implements UserRepository
{
    public function save(User $user): void
    {
        $this-&gt;entityManager()-&gt;persist($user);
        $this-&gt;entityManager()-&gt;flush($user);
    }

    public function saveAll(Users $users)
    {
        each($this-&gt;persister(),$users);
    }
}
</code></pre></div><p>Aunque el código inicial podríamos pensar que estaba desacoplado de la implementación gracias a la interface, si que estaba <strong>acoplado estructuralmente</strong>:</p>
<blockquote>
<p>Desde nuestro caso de uso sabíamos que debíamos de llamar primero al método save y después al método flush</p>
</blockquote>
<h2 id="dip---dependency-inversion-principle">DIP - Dependency inversion principle</h2>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/se-journey/js/clipboard.min.js?1596665575"></script>
    <script src="/se-journey/js/perfect-scrollbar.min.js?1596665575"></script>
    <script src="/se-journey/js/perfect-scrollbar.jquery.min.js?1596665575"></script>
    <script src="/se-journey/js/jquery.sticky.js?1596665575"></script>
    <script src="/se-journey/js/featherlight.min.js?1596665575"></script>
    <script src="/se-journey/js/highlight.pack.js?1596665575"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/se-journey/js/modernizr.custom-3.6.0.js?1596665575"></script>
    <script src="/se-journey/js/learn.js?1596665575"></script>
    <script src="/se-journey/js/hugo-learn.js?1596665575"></script>

    <link href="/se-journey/mermaid/mermaid.css?1596665575" rel="stylesheet" />
    <script src="/se-journey/mermaid/mermaid.js?1596665575"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
